//js閻ㄥ嫪缍旈悽銊ゅ瘜鐟曚焦妲搁敓锟�?? html娑擃厼鍟撴總鐣屾畱閺嶅洨顒烽惃鍕唨绾偓娑撳﹨绻樼悰灞界杽閻滈姘﹂敓锟�?
//閸ョ姵顒濋崷銊ュ晸js娴狅絿鐖滄稊瀣閿涘苯绨查崗鍫ｅ箯閸欐牕鍩岀憰浣规惙娴ｆ粎娈戦弽鍥╊劮閿涘奔绡冪亸杈ㄦЦ閼惧嘲褰囬懞鍌滃仯閿涘牊娓舵總鐣屾暏id閿涘鍟€鏉╂稖顢� DOM閹垮秳缍�?
let ipt=document.querySelector('#title');
let ol=document.querySelector('#todolist');
let count=document.querySelector('#count');

//1.閸忓牆鍟撴潏鎾冲弳濡楀棛娈戞禍銈勭鞍閿涙氨鏁ら幋宄版躬鏉堟挸鍙嗗鍡氱翻閸忋儻绱濋幐澶夌瑓閸ョ偠婧呴敍宀冾唶瑜版洑绗呮潏鎾冲弳閸愬懎顔�
let data=[];

//缂佹瑨绶崗銉︻攱鐎规矮绠熸稉鈧稉顏堟暛閻╂ü绨ㄦ禒璁圭礉閹稿绗卐(閺屾劒閲滈敓锟�?)閿涘矁袝閸欐垵鍤遍敓锟�?
ipt.onkeydown=function(e)
{
    //閻€劍鍩涢幐澶夌瑓Enter閿燂�??
    if(e.key=="Enter")
    {
        //鐠佹澘缍嶆潏鎾冲弳閸愬懎顔�
        let input_value=ipt.value  ;
        
        // 濞撳懘娅巚alue閻ㄥ嫬涔忛崣宕団敄閻ф枻绱濋梼鍙夘剾閻€劍鍩涢崷銊︽瀮閺堫剙澧犳潏鎾冲弳缁岀儤鐗搁崥搴＄殺缁岀儤鐗告稊鐔剁稊娑撶儤鏋冮張顒€鍞撮敓锟�?
        input_value=input_value.trim();

        //婵″倹鐏夋潏鎾冲弳娑撳秳璐熼敓锟�??
        if(input_value.length!=0)
        {
            //鐏忓棜绶崗銉ュ敶鐎圭懓鐡ㄩ崗銉︽殶閿燂�??
            data.push(input_value);
            
            //濞撳懐鈹栨潏鎾冲弳閿燂拷?
            ipt.value="";

            //鐎硅妲楄箛鐣屾殣閻ㄥ嫪绔撮悙鐧哥窗濮ｅ繑顐兼潏鎾冲弳閺傛壆娈戦弫鐗堝祦鐟曚焦濡告稊瀣閻ㄥ埣l閸愬懎顔愰崚鐘插箵閿涘矂妲诲銏ゅ櫢婢跺秴鍤悳甯礄鏉╂劘顢戞稊瀣倵鐏忚京鐓￠柆鎾茬啊閿燂�??
            ol.innerHTML="";
            
            //濞撳弶鐓嬮敍姘崇殶閻€劌鍤遍弫鏉跨殺data闁插矂娼版穱婵嗙摠閻ㄥ嫯绶崗銉ュ敶鐎瑰湱绮扮敮顩抜閿涘苯鍟€閹跺i濞ｈ濮為崚鐨乴娑擃叏绱濇禒搴も偓灞炬▔缁€鍝勫煂妞ょ敻娼伴敓锟�??
            render();
            
            getCount();

        }
        else
        {
            alert("鏉堟挸鍙嗘稉宥堝厴娑撹櫣鈹栭敓锟�??");   //alert瀵顢嬮敍姘冲鏉堟挸鍙嗘稉铏光敄閿涘苯鍨瑙勵攱閹绘劗銇�
        }
    }
}

//濞撳弶鐓嬮崙鑺ユ殶閿涙矮濞囬悽銊﹀煕鏉堟挸鍙嗛惃鍕敶鐎圭懓鎲熼悳鏉垮毉閺夈儻绱欐潏鎾冲弳閸愬懎顔�?-->data閺佹壆绮�?-->li-->ol閿燂�??
function render()
{
    //瀵邦亞骞嗛柆宥呭坊data閺佹壆绮嶉敍灞界殺鏉堟挸鍙嗛弫鐗堝祦閸欐牕鍤獮鍓佺舶閸掔櫦i娑擃叏绱濇潻娑楃濮濄儲鍧婇崝鐘插煂ol閿燂�??
    for(let i=0;i<data.length;i++)
    {
        //濮ｅ繑顐煎顏嗗箚闁棄鍨卞杞扮娑撶尟i閺嶅洨顒�?
        let li=document.createElement("li");

        //濞ｈ濮瀕i閸愬懎顔愰敓锟�?1.data閺佹壆绮嶆稉顓犳畱閸愬懎顔� 2.閸掔娀娅庨幐澶愭尦
        li.innerHTML=`
        <p>${data[i]}</p>
        <a href="javascript:;" onclick="del(this)"></a>
        `;
        //href="javascript:;"-->闂冨弶顒涢悙鐟板毊a閺嶅洨顒风捄瀹犳祮閺備即銆夐敓锟�??
        //閻愮懓鍤禍瀣╂閿涙氨鍋ｉ崙鏄忕殶閻⑩暊elete閸戣姤鏆熼敍灞界杽閻滄澘鍨归梽銈呭閿燂�??

        //鐏忓攱i閺嶅洨顒峰ǎ璇插閸掔殎l閿燂�??(閻╃ǹ缍嬫禍搴℃躬html娑擃厼绁甸敓锟�?)
        ol.append(li);
    }
}

//閸掔娀娅庨弻鎰娴犳湹绨ㄩ敓锟�?
//閺嶈宓侀崜宥夋桨 <a href="javascript:;" onclick="del(this)"></a>-->鏉╂瑩鍣穞娴狅綀銆僡閺嶅洨顒�?
function del(t)
{
    //a閺嶅洨顒烽悥璺哄帗缁辩垐i閻ㄥ嫭澧嶉張澶婄摍閸忓啰绀岄弬鍥ㄦ拱閿涘奔绡冪亸杈ㄦЦp閺嶅洨顒锋稉顓犳畱閸愬懎顔愰敍灞肩瘍鐏忚鲸妲竏ata娑擃厾娈戦弫鐗堝祦閿涘奔绡冪亸杈ㄦЦ閻€劍鍩涙潏鎾冲弳閻ㄥ嫬鍞撮敓锟�?
    let text=t.parentNode.innerText;

    //閹垫儳鍩岀憰浣稿灩闂勩倕鍘撶槐鐘垫畱娑撳鐖�
    let index=data.indexOf(text);

    //閺嶈宓佹稉瀣垼閸掔娀娅庡┃鎰殶閿燂�??
    data.splice(index,1);
    // 閸欏倹鏆熸稉鈧弽瑙勫祦閸濐亙閲滅槐銏犵穿娴ｅ秶鐤嗛崚鐘绘珟閿涘苯寮弫棰佺癌閺勵垰鍨归梽銈勯嚋閿燂�??

    //妞ょ敻娼伴弫鍫熺亯閸掔娀娅庨敍鍫濆灩閻ㄥ嫭妲竘i閺嶅洨顒烽敓锟�?
    ol.removeChild(t.parentNode);

    //閺囧瓨鏌婄拋鈩冩�?
    getCount();
}

function getCount()
{
    //鐞涖劎銇歰l鐎涙劕鍘撶槐鐖坕閺嶅洨顒烽惃鍕嚋閿燂拷?
    count.innerHTML=ol.children.length;
}